<div class="col-md-*" id="postList">
    <div id="cardList"></div>
</div>

<script>
window.onload = function() {
    let xhttp = new XMLHttpRequest();
    let url = '/post/list';
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
            rsp = JSON.parse(this.responseText).posts
            html = ''
            rsp.forEach(post => {
                html += `
                    <div class="card">
                    <div class="card-header">
                        <h5>
                            ${post.title}
                            <span class="badge badge-pill badge-warning">${post.minimumVotes}</span>
                        </h5>
                        <hr class="light">
                        <div class="progress">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 62.5%;" aria-valuenow="1.250"
                    aria-valuemin="0" aria-valuemax="2000">62.5%</div>
                        </div>
                        <hr class="light">
                        <p>${post.tagList}</p>
                    </div>
                    <div class="card-body">
                        <p class="card-text">
                            ${post.text}
                        </p>
                        <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#${post.title}">More</button>
                    </div>
                    </div>
                    {% include 'Post/DetailsModal.html' %}
                    `
            })
            document.querySelector('#postList').innerHTML = html;
        }
    };
    xhttp.open("GET", url, true);
    xhttp.send();
}
</script>

<style>
#postList{
    width: 100%;
    display: flex;
    flex-diection: row;
    justify-content: space-between;
    flex-wrap: wrap;
}
.card{
    width: 15rem;
    padding: 0.2rem;
    margin: 1rem
}
</style>
